(function(b){b.okshadow=function(f,h){var a=this;a.$el=b(f);a.el=f;a.$el.data("okshadow",a);a.init=function(){a.options=b.extend({},b.okshadow.options,h);a.build()};a.build=function(){a.start()};a.clamp=function(a,c,b){return Math.max(c,Math.min(b,a))};a.setoption=function(g,c){if("string"===typeof g){if(a.options[g]=c,"color"===g)return a.update()}else a.options=b.extend(a.options,g);a.mousemove(a)};a.start=function(){b(window).bind({mousemove:a.mousemove});a.mousemove({pageX:b(window).width()/2,
pageY:b(window).height()/2});if(a.options.transparent)a.el.style.color="transparent"};a.mousemove=function(b){var c=a.$el.offset(),e=b.pageX,b=b.pageY,d=c.top+a.$el.height()/2,c=c.left+a.$el.width()/2-e,d=d-b;sx=c/a.options.xFactor;sy=d/a.options.yFactor;distance=Math.sqrt(c*c+d*d);fuzz=distance/a.options.fuzz+a.options.fuzzMin;a.options.xMax&&(sx=a.clamp(sx,-1*a.options.xMax,a.options.xMax));a.options.yMax&&(sy=a.clamp(sy,-1*a.options.yMax,a.options.yMax));a.options.fuzzMax&&(fuzz=a.clamp(fuzz,a.options.fuzzMin,
a.options.fuzzMax));sx+=a.options.xOffset;sy+=a.options.yOffset;a.pageX=e;a.pageY=b;a.sx=sx;a.sy=sy;a.fuzz=fuzz;a.update()};a.browsers=" -moz- -webkit- -ms-".split(" ");a.update=function(){var b=sx+"px "+sy+"px "+fuzz+"px "+a.options.color,c=a.options.textShadow?"text-shadow":"box-shadow",e={},d;for(d in a.browsers)e[a.browsers[d]+c]=b;a.$el.css(e)};a.init()};b.okshadow.options={color:"#888",fuzz:40,fuzzMin:0,fuzzMax:null,xOffset:0,xFactor:30,xMax:null,yOffset:0,yFactor:30,yMax:null,textShadow:!1,
transparent:!1};b.fn.okshadow=function(f){return this.each(function(){new b.okshadow(this,f)})}})(jQuery);
